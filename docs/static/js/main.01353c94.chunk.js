(this["webpackJsonpdriving-test"]=this["webpackJsonpdriving-test"]||[]).push([[0],{108:function(e,t,n){e.exports=n(123)},113:function(e,t,n){},123:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(11),o=n.n(c),u=(n(113),n(2)),i=n(95),s=n(41),l=n(23),m=n(9),d={createNew:Object(m.createAction)("SESSION/CREATE-NEW")(),setSession:Object(m.createAction)("SESSION/SET-SESSION")(),answer:Object(m.createAction)("SESSION/ANSWER")(),nextQuestion:Object(m.createAction)("SESSION/NEXT-QUESTION")()},f=n(36),b=function(e){return e.session.current},h=function(e){return e.questions.all},p=Object(f.a)(b,(function(e){if(!e)return null;var t=e.currentQuestionIndex;return null==t?null:e.questions[t]})),E=Object(f.a)(p,h,(function(e,t){return e?t[e.questionId]:null})),v=function(e,t){return e.correctAnswerId===t.gottenAnswerId},O=(Object(f.a)(E,p,(function(e,t){return e&&t?v(e,t):null})),Object(f.a)(b,(function(e){return e?Object.keys(e.questions).length:null}))),j=Object(f.a)(b,(function(e){return e?e.currentQuestionIndex+1:null})),w=Object(f.a)(b,h,(function(e,t){return e&&t?e.questions.reduce((function(e,n){return v(t[n.questionId],n)&&e++,e}),0):null})),g=n(163),S=function(e){return null==e.src?a.a.createElement(a.a.Fragment,null):a.a.createElement(g.a,{maxWidth:"sm"},a.a.createElement("img",{src:"images/".concat(e.src),alt:"question"}))},y=function(e){return a.a.createElement(g.a,{maxWidth:"sm"},e.questionId,". ",e.text,a.a.createElement(S,{src:e.picture}))},A=n(103),I=n(147),x=function(e){return a.a.createElement(A.a,{elevation:3},a.a.createElement(g.a,{m:3},a.a.createElement(I.a,{container:!0,spacing:2},a.a.createElement(I.a,{item:!0,xs:12},e.question),a.a.createElement(I.a,{item:!0,xs:12},e.answers))))},q=n(30),N=n(21),k=n(22),C=n(148);function Q(){var e=Object(N.a)(["\n"]);return Q=function(){return e},e}function P(){var e=Object(N.a)(["\n  text-transform: none;\n"]);return P=function(){return e},e}function R(){var e=Object(N.a)(["\n  font-weight: bold;\n  padding-right: 10px;\n"]);return R=function(){return e},e}function T(){var e=Object(N.a)(["\n  &, &:hover, &.Mui-disabled {\n    background-color: ",";\n    width: 100%;\n    height: 100%;\n  }\n  \n  &.Mui-disabled {\n    color: ",";\n  }\n"]);return T=function(){return e},e}var G=Object(k.a)((function(e){e.isCorrect,e.isGotten;var t=Object(u.a)(e,["isCorrect","isGotten"]);return a.a.createElement(C.a,Object.assign({},t,{variant:"contained"}))}))(T(),(function(e){var t=e.isCorrect,n=e.isGotten;return t?"LawnGreen":n?"yellow":void 0}),(function(e){var t=e.isCorrect,n=e.isGotten;return(t||n)&&"black"})),F=k.a.span(R()),M=k.a.span(P()),W=k.a.img(Q()),L=function(e){var t=e.answerId,n=e.answer,c=e.isAvailable,o=e.isCorrect,u=e.isGotten,i=e.onAnswer,s=Object(r.useCallback)((function(){c&&i({answerId:t})}),[i,c,t]);return a.a.createElement(G,{isCorrect:o,isGotten:u,onClick:s,disabled:!c},a.a.createElement(F,null,t,"."),a.a.createElement(M,null,n.text),n.picture&&a.a.createElement(W,{src:"images/".concat(n.picture)}))},H=function(e){return a.a.createElement(I.a,{container:!0,spacing:2},Object.entries(e.answers).map((function(t){var n=Object(q.a)(t,2),r=n[0],c=n[1];return a.a.createElement(I.a,{item:!0,xs:12,sm:6,key:r},a.a.createElement(L,{answerId:r,answer:c,isAvailable:null==e.gottenAnswerId,isCorrect:e.correctAnswerId===r,isGotten:e.gottenAnswerId===r,onAnswer:e.onAnswer}))})))},z=function(e){var t=e.question,n=e.gottenAnswerId,r=e.onAnswer;return a.a.createElement(x,{question:a.a.createElement(y,{questionId:t.id,text:t.text,picture:t.picture}),answers:a.a.createElement(H,{answers:t.answers,correctAnswerId:n&&t.correctAnswerId,gottenAnswerId:n,onAnswer:r})})},B=function(e){var t=e.onNewSession;return a.a.createElement(C.a,{onClick:t},"Start a new session")},D=n(149);function U(){var e=Object(N.a)(["\n  padding: 20px 20px;\n  display: flex;\n  justify-content: center;\n  justify-items: center;\n"]);return U=function(){return e},e}var J=Object(k.a)(D.a)(U()),K=function(e){var t=e.onNextQuestion;return a.a.createElement(J,null,a.a.createElement(C.a,{onClick:t,variant:"outlined"},"Next question >>>"))};function V(){var e=Object(N.a)(["\n  color: green;\n"]);return V=function(){return e},e}function X(){var e=Object(N.a)(["\n  padding: 20px 20px;\n"]);return X=function(){return e},e}var Y=Object(k.a)(g.a)(X()),$=k.a.span(V()),Z=function(e){var t=e.total,n=e.current,r=e.correct;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Y,null,"progress: ",n," / ",t,", correct: ",a.a.createElement($,null,r)))};function _(){var e=Object(N.a)(["\n  color: green;\n"]);return _=function(){return e},e}function ee(){var e=Object(N.a)(["\n  padding: 20px 20px;\n"]);return ee=function(){return e},e}var te=Object(k.a)(g.a)(ee()),ne=k.a.span(_()),re=function(e){var t=e.total,n=e.correct;return a.a.createElement(te,null,a.a.createElement("p",null,"You have answered on ",t," and gotten ",a.a.createElement(ne,null,n)," correct answers"))},ae=n(72),ce=function(e){var t=e.onCreateNewSession;return a.a.createElement(g.a,{m:3},a.a.createElement(ae.a,{variant:"h3",component:"h3"},"Welcome to Thailand Driving Test Quiz"),a.a.createElement(ae.a,{variant:"body1"},"Here you can practice your knowledge in standard Thailand Driving Test questions. The test contains real questions, that most likely you will see on real exam."),a.a.createElement(g.a,{display:"flex",m:3,justifyContent:"center"},a.a.createElement(B,{onNewSession:t})))},oe=Object(l.b)((function(e){var t;return{session:e.session.current,question:E(e),gottenAnswerId:(null===(t=p(e))||void 0===t?void 0:t.gottenAnswerId)||null,totalQuestions:O(e),currentQuestion:j(e),correctAnswers:w(e)}}),d)((function(e){return e.session?e.question?a.a.createElement(D.a,null,a.a.createElement(Z,{total:e.totalQuestions,current:e.currentQuestion,correct:e.correctAnswers}),a.a.createElement(z,{key:"question",question:e.question,gottenAnswerId:e.gottenAnswerId,onAnswer:e.answer}),null!=e.gottenAnswerId&&a.a.createElement(K,{key:"next",onNextQuestion:e.nextQuestion})):a.a.createElement(D.a,null,a.a.createElement(re,{total:e.totalQuestions,correct:e.correctAnswers}),a.a.createElement(B,{onNewSession:e.createNew})):a.a.createElement(ce,{onCreateNewSession:e.createNew})})),ue=n(151),ie=n(150);function se(){var e=Object(N.a)(["\n  margin: 10px;\n"]);return se=function(){return e},e}var le=Object(k.a)(ie.a)(se()),me=function(e){var t=e.question;return a.a.createElement(le,{variant:"outlined"},a.a.createElement(ue.a,null,a.a.createElement(ae.a,{color:"textSecondary",gutterBottom:!0},"Question #",t.id),a.a.createElement(ae.a,{variant:"h5",component:"h2"},t.text),t.picture&&a.a.createElement(S,{src:t.picture}),a.a.createElement(ae.a,{color:"textPrimary"},t.correctAnswerId,". ",t.answers[t.correctAnswerId].text)))},de=function(e){return a.a.createElement(a.a.Fragment,null,e.questions.map((function(e){return a.a.createElement(me,{question:e,key:e.id})})))},fe=Object(f.a)((function(e){return e.search.result}),(function(e){return e.questions.all}),(function(e,t){return e?e.questionIds.map((function(e){return t[e]})):null})),be=Object(l.b)((function(e){return{resultQuestions:fe(e)}}))((function(e){var t=e.resultQuestions;return null==t?a.a.createElement(a.a.Fragment,null):a.a.createElement(de,{questions:t})})),he=function(e){var t=e.mainMenu,n=e.children;return a.a.createElement(D.a,null,t,a.a.createElement(g.a,null,n))},pe=n(153),Ee=n(154),ve=n(12),Oe=n(152),je=n(167),we=Object(Oe.a)((function(e){return Object(je.a)({root:{flexGrow:1},title:Object(ve.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"})})})),ge=function(e){var t=e.menu,n=e.search,r=we();return a.a.createElement("div",{className:r.root},a.a.createElement(pe.a,{position:"static"},a.a.createElement(Ee.a,null,t,a.a.createElement(ae.a,{className:r.title,variant:"h6",noWrap:!0},"Thailand Driving Test Quiz"),n)))},Se=n(165),ye=n(18),Ae=Object(Oe.a)((function(e){return Object(je.a)({search:Object(ve.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(ye.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(ye.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(ve.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})})})),Ie=n(92),xe=n.n(Ie),qe=function(e){var t=e.searchPhrase,n=e.onSearchPhraseChanged,c=Ae(),o=Object(r.useCallback)((function(e){n({searchPhrase:e.target.value})}),[n]);return a.a.createElement("div",{className:c.search},a.a.createElement("div",{className:c.searchIcon},a.a.createElement(xe.a,null)),a.a.createElement(Se.a,{placeholder:"Search\u2026",classes:{root:c.inputRoot,input:c.inputInput},inputProps:{"aria-label":"search"},value:t,onChange:o}))},Ne={setSearchPhrase:Object(m.createAction)("SEARCH/SET-SEARCH-PHRASE")(),setSearchResult:Object(m.createAction)("SEARCH/SET-SEARCH-RESULT")()},ke=Object(l.b)((function(e){return{searchPhrase:e.search.searchPhrase}}),{setSearchPhrase:Ne.setSearchPhrase})((function(e){var t=e.searchPhrase,n=e.setSearchPhrase;return a.a.createElement(qe,{searchPhrase:t,onSearchPhraseChanged:n})})),Ce=n(155),Qe=n(164),Pe=Object(Oe.a)((function(e){return Object(je.a)({menuButton:{marginRight:e.spacing(2)}})})),Re=n(93),Te=n.n(Re),Ge=function(e){var t=e.menuList,n=Pe(),c=Object(r.useState)(!1),o=Object(q.a)(c,2),u=o[0],i=o[1],s=Object(r.useCallback)((function(){return i(!u)}),[u,i]),l=i.bind(null,!1);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ce.a,{edge:"start",className:n.menuButton,color:"inherit","aria-label":"open drawer",onClick:s},a.a.createElement(Te.a,null)),a.a.createElement(Qe.a,{anchor:"left",open:u,onClose:l},a.a.createElement("div",{role:"presentation",onClick:l,onKeyDown:l},t)))},Fe=n(156),Me=n(168),We=n(157),Le=n(158),He=n(159),ze=n(94),Be=n.n(ze),De=function(e){var t=e.onNewSession;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe.a,null,a.a.createElement(Me.a,{button:!0,onClick:t},a.a.createElement(We.a,null,a.a.createElement(Be.a,null)),a.a.createElement(Le.a,{primary:"Start New Quiz"}))),a.a.createElement(He.a,null))},Ue=Object(l.b)((function(e){return{}}),{createNewSession:d.createNew})((function(e){var t=e.createNewSession;return a.a.createElement(Ge,{menuList:a.a.createElement(De,{onNewSession:t})})})),Je=Object(l.b)()((function(){return a.a.createElement(ge,{menu:a.a.createElement(Ue,null),search:a.a.createElement(ke,null)})})),Ke=Object(l.b)((function(e){return{resultQuestions:fe(e)}}))((function(e){var t=e.resultQuestions,n=e.children;return a.a.createElement(he,{mainMenu:a.a.createElement(Je,null)},t?a.a.createElement(be,null):a.a.createElement(a.a.Fragment,null,n))})),Ve=function(){return a.a.createElement(i.a,{basename:"/driving-quiz"},a.a.createElement(Xe,{path:"/search",component:be,layout:Ke,exact:!0}),a.a.createElement(Xe,{path:"/",component:oe,layout:Ke,exact:!0}))},Xe=function(e){var t=e.component,n=e.layout,c=Object(u.a)(e,["component","layout"]),o=Object(r.useCallback)((function(){var e=n,r=t;return a.a.createElement(e,null,a.a.createElement(r,null))}),[n,t]);return a.a.createElement(s.a,Object.assign({component:o},c))};var Ye=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ve,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var $e=n(162),Ze=n(40),_e={retrieve:Object(m.createAction)("QUESTIONS/RETRIEVE")(),append:Object(m.createAction)("QUESTIONS/APPEND")()},et=n(34),tt=Object(m.createReducer)({all:{}}).handleAction(_e.append,(function(e,t){return Object(et.a)(e,(function(e){var n=!0,r=!1,a=void 0;try{for(var c,o=t.payload.questions[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){var u=c.value;e.all[u.id]=u}}catch(i){r=!0,a=i}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}}))})),nt=Object(m.createReducer)({current:null}).handleAction(d.setSession,(function(e,t){return Object(et.a)(e,(function(e){e.current=t.payload}))})).handleAction(d.answer,(function(e,t){return Object(et.a)(e,(function(e){var n,r=null===(n=e.current)||void 0===n?void 0:n.questions[e.current.currentQuestionIndex];r&&(r.gottenAnswerId=t.payload.answerId)}))})).handleAction(d.nextQuestion,(function(e){return Object(et.a)(e,(function(e){e.current&&e.current.currentQuestionIndex++}))})),rt=Object(m.createReducer)({searchPhrase:"",result:null}).handleAction(Ne.setSearchPhrase,(function(e,t){return Object(et.a)(e,(function(e){e.searchPhrase=t.payload.searchPhrase}))})).handleAction(Ne.setSearchResult,(function(e,t){return Object(et.a)(e,(function(e){e.result=null!=t.payload.questionIds?{questionIds:t.payload.questionIds}:null}))})),at=Object(Ze.c)({questions:tt,session:nt,search:rt}),ct=n(166),ot=n(15),ut=n(77),it=n.n(ut),st=n(97),lt=n(160),mt=n(98),dt=n(99),ft=n(100),bt={retrieveQuestions:function(e){return e.pipe(Object(lt.a)(Object(m.isActionOf)(_e.retrieve)),Object(mt.a)(function(){var e=Object(st.a)(it.a.mark((function e(t){var r,a;return it.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(3).then(n.bind(null,170));case 2:return r=e.sent,a=r.default,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(mt.a)((function(e){return e()})),Object(dt.a)((function(e){var t=!0,n=!1,r=void 0;try{for(var a,c=e[Symbol.iterator]();!(t=(a=c.next()).done);t=!0){var o=a.value;o.correctAnswerId||console.log("Question ".concat(o.id," doesn't contain correct answer.")),o.answers[o.correctAnswerId]||console.log("Question ".concat(o.id," doesn't define correct answer ").concat(o.correctAnswerId,"."))}}catch(u){n=!0,r=u}finally{try{t||null==c.return||c.return()}finally{if(n)throw r}}return e})),Object(dt.a)((function(e){var t=!0,n=!1,r=void 0;try{for(var a,c=e[Symbol.iterator]();!(t=(a=c.next()).done);t=!0){for(var o=a.value,u=Object.keys(o.answers),i=Object.keys(o.answers),s={},l="",m=0,d=u;m<d.length;m++){var f=d[m],b=i.splice(Math.floor(Math.random()*i.length),1)[0];o.correctAnswerId===b&&(l=f),s[f]=o.answers[b]}o.answers=s,o.correctAnswerId=l}}catch(h){n=!0,r=h}finally{try{t||null==c.return||c.return()}finally{if(n)throw r}}return e})),Object(dt.a)((function(e){return _e.append({questions:e})})))},initialize:function(){return Object(ft.a)(null).pipe(Object(dt.a)((function(){return _e.retrieve()})))}},ht=ct.a.apply(void 0,Object(ot.a)(Object.values(bt))),pt=n(161);var Et={createNewSession:function(e,t){return e.pipe(Object(lt.a)(Object(m.isActionOf)(d.createNew)),Object(pt.a)(t),Object(dt.a)((function(e){var t=Object(q.a)(e,2)[1],n=Object.keys(t.questions.all),r=function(e,t){for(var n=Object(ot.a)(e),r=new Array,a=0;a<t;a++){var c=Math.floor(Math.random()*n.length),o=n.splice(c,1)[0];r.push(o)}return r}(n,n.length).map((function(e){return{questionId:+e,gottenAnswerId:null}}));return d.setSession({questions:r,currentQuestionIndex:0})})))}},vt=ct.a.apply(void 0,Object(ot.a)(Object.values(Et))),Ot={searchQuestions:function(e,t){return e.pipe(Object(lt.a)(Object(m.isActionOf)(Ne.setSearchPhrase)),Object(pt.a)(t),Object(dt.a)((function(e){var t=Object(q.a)(e,2),n=t[0],r=t[1];return{searchPhrase:n.payload.searchPhrase,questions:r.questions.all}})),Object(dt.a)((function(e){var t=e.searchPhrase,n=e.questions;return t?Object.values(n).filter((function(e){return e.text.indexOf(t)>=0})).map((function(e){return e.id})):null})),Object(dt.a)((function(e){return Ne.setSearchResult({questionIds:e})})))}},jt=ct.a.apply(void 0,Object(ot.a)(Object.values(Ot))),wt=Object(ct.a)(ht,vt,jt),gt=Object($e.a)();o.a.render(a.a.createElement(l.a,{store:function(e){var t=function(e){var t=[gt],n=Object(Ze.d)(Ze.a.apply(void 0,t));return Object(Ze.e)(at,e,n)}(e);return gt.run(wt),t}()},a.a.createElement(Ye,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[108,1,2]]]);
//# sourceMappingURL=main.01353c94.chunk.js.map